# @hermeslabs/web-crawler

Hermes Chat å†…ç½®çš„ç½‘é¡µæŠ“å–æ¨¡å—ï¼Œç”¨äºæ™ºèƒ½æå–ç½‘é¡µå†…å®¹å¹¶è½¬æ¢ä¸º Markdown æ ¼å¼ã€‚

> \[!IMPORTANT] Hermes Labs ä½œç”¨åŸŸè¿ç§»
>
> - **ç”Ÿæ•ˆæ—¥æœŸï¼š** 2025-03-31 â€”â€” è¯·é€šè¿‡ `npm install @hermeslabs/web-crawler` è·å–æœ€æ–°åŠŸèƒ½ä¸å®‰å…¨è¡¥ä¸ã€‚
> - **å…¼å®¹çª—å£ï¼š** `@lobechat/web-crawler` å°†åœ¨ 2025-09-30 å‰é•œåƒæ›´æ–°ï¼Œä¹‹åå°†ä¸å†ç»´æŠ¤ã€‚
> - **å›æ»šæ–¹æ¡ˆï¼š** å‚ç…§ [å›æ»šæ–¹æ¡ˆ](https://github.com/hermeslabs/hermes-chat/blob/main/docs/development/rebranding.md#rollback-strategy) å¯è¿…é€Ÿæ¢å¤æ—§ä½œç”¨åŸŸã€‚
> - **é‡è¦æç¤ºï¼š** è‹¥è‡ªåŠ¨åŒ–è„šæœ¬ä»…å…è®¸ `@lobechat` ä½œç”¨åŸŸï¼Œè¯·åŒæ­¥æ·»åŠ  `@hermeslabs`ï¼Œé¿å…æ„å»ºè¢«é˜»æ–­ã€‚

## ğŸ“ ç®€ä»‹

`@hermeslabs/web-crawler` æ˜¯ Hermes Chat çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç½‘é¡µå†…å®¹çš„æ™ºèƒ½æŠ“å–ä¸å¤„ç†ã€‚å®ƒèƒ½å¤Ÿä»å„ç±»ç½‘é¡µä¸­æå–æœ‰ä»·å€¼çš„å†…å®¹ï¼Œè¿‡æ»¤æ‰å¹²æ‰°å…ƒç´ ï¼Œå¹¶ç”Ÿæˆç»“æ„åŒ–çš„ Markdown æ–‡æœ¬ã€‚

## ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½å†…å®¹æå–**ï¼šåŸºäº Mozilla Readability ç®—æ³•è¯†åˆ«ä¸»è¦å†…å®¹
- **å¤šçº§æŠ“å–ç­–ç•¥**ï¼šæ”¯æŒå¤šç§æŠ“å–å®ç°ï¼ŒåŒ…æ‹¬åŸºç¡€æŠ“å–ã€Jinaã€Search1API å’Œ Browserless æ¸²æŸ“æŠ“å–
- **è‡ªå®šä¹‰ URL è§„åˆ™**ï¼šé€šè¿‡çµæ´»çš„è§„åˆ™ç³»ç»Ÿå¤„ç†ç‰¹å®šç½‘ç«™çš„æŠ“å–é€»è¾‘

## ğŸ¤ å‚ä¸å…±å»º

ç½‘é¡µç»“æ„å¤šæ ·å¤æ‚ï¼Œæˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ç‰¹å®šç½‘ç«™çš„æŠ“å–è§„åˆ™ã€‚æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸æ”¹è¿›ï¼š

### å¦‚ä½•è´¡çŒ® URL è§„åˆ™

1. åœ¨ [urlRules.ts](https://github.com/hermeslabs/hermes-chat/blob/main/packages/web-crawler/src/urlRules.ts) æ–‡ä»¶ä¸­æ·»åŠ æ–°è§„åˆ™
2. è§„åˆ™ç¤ºä¾‹ï¼š

```typescript
// ç¤ºä¾‹ï¼šå¤„ç†ç‰¹å®šç½‘ç«™
const url = [
  // ... å…¶ä»– url åŒ¹é…è§„åˆ™
  {
    // URL åŒ¹é…æ¨¡å¼ï¼Œä»…æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼
    urlPattern: 'https://example.com/articles/(.*)',

    // å¯é€‰ï¼šURL è½¬æ¢ï¼Œç”¨äºé‡å®šå‘åˆ°æ›´æ˜“æŠ“å–çš„ç‰ˆæœ¬
    urlTransform: 'https://example.com/print/$1',

    // å¯é€‰ï¼šæŒ‡å®šæŠ“å–å®ç°æ–¹å¼ï¼Œæ”¯æŒ 'naive'ã€'jina'ã€'search1api' å’Œ 'browserless' å››ç§
    impls: ['naive', 'jina', 'search1api', 'browserless'],

    // å¯é€‰ï¼šå†…å®¹è¿‡æ»¤é…ç½®
    filterOptions: {
      // æ˜¯å¦å¯ç”¨ Readability ç®—æ³•ï¼Œç”¨äºè¿‡æ»¤å¹²æ‰°å…ƒç´ 
      enableReadability: true,
      // æ˜¯å¦è½¬æ¢ä¸ºçº¯æ–‡æœ¬
      pureText: false,
    },
  },
];
```

### è§„åˆ™æäº¤æµç¨‹

1. Fork [Hermes Chat ä»“åº“](https://github.com/hermeslabs/hermes-chat)
2. æ·»åŠ æˆ–ä¿®æ”¹ URL è§„åˆ™
3. æäº¤ Pull Request å¹¶æè¿°ï¼š

- ç›®æ ‡ç½‘ç«™ç‰¹ç‚¹
- è§„åˆ™è§£å†³çš„é—®é¢˜
- æµ‹è¯•ç”¨ä¾‹ï¼ˆç¤ºä¾‹ URLï¼‰

## ğŸ“Œ æ³¨æ„äº‹é¡¹

è¿™æ˜¯ Hermes Labs çš„å†…éƒ¨æ¨¡å—ï¼ˆ`"private": true`ï¼‰ï¼Œä¸“ä¸º Hermes Chat è®¾è®¡ï¼Œä¸ä½œä¸ºç‹¬ç«‹åŒ…å‘å¸ƒä½¿ç”¨ã€‚
